(function(){try{var n={"site_type":null,"book_struct":{"title":null,"book_name":null,"author":null,"book_content":null,"chapter":null,"chapter_name":null,"chapter_content:":null,}};var x=new Array("目录","书架","书签","首页","书库","主页");var u=new Array("下一章","上一章","下一页","上一页","下章","上章","上一篇","下一篇","下一节","上一节");var h=new Array("开始阅读","立即阅读","全部章节","目录正序","目录逆序","完整目录","查看目录","更多章节","从头阅读","TXT下载","尾页");var o=new Array("最新章节","小说","全文阅读","电子书","在线阅读","章节目录");var t=null;var F=null;var A=null;var r=false;var d=false;var q=false;var i=false;var G=false;function E(){var H=document.getElementsByTagName("a");for(var K=0;K<H.length&&K<500;++K){var L=H[K];var e=L.textContent;e=e.replace(/\s+/g,"");if(e.length>100){continue}if(!r){for(var J=0;J<x.length;++J){key_word=x[J];if(e.indexOf(key_word)!=-1){r=true;break}}}if(!d){for(var J=0;J<u.length;++J){key_word=u[J];if(e.indexOf(key_word)!=-1){d=true;break}}}if(!q){for(var J=0;J<h.length;++J){key_word=h[J];if(e.indexOf(key_word)!=-1){q=true;break}}}if(r&&d&&q){return true}}if(!d){var M=new RegExp("第[^\f\r\n\t\v]*章");var I=M.exec(document.title);if(I!=null){d=true}}if(r||d){var N=B()+" "+document.title;if(N.length<2){return false}for(var J=0;J<o.length;++J){key_word=o[J];if(N.indexOf(key_word)!=-1){i=true;return true}}}return false}function j(){if(A!=null){return A}A=false;var L=new RegExp("第[^\f\r\n\t\v]*章|第[^\f\r\n\t\v]*卷|第[^\f\r\n\t\v]*部分|第[^\f\r\n\t\v]*节");var M=false;var H=document.querySelectorAll("a, li");for(var J=0;J<H.length&&J<500;++J){var K=H[J];var e=K.textContent;if(e.length>100){continue}var I=L.exec(e);if(I!=null){if(M){A=true;return true}M=true}else{M=false}}if(!A){L=new RegExp("正序|顺序|倒序|反序|直达底部|更多章节|直达页面底部|全部章节");var H=document.querySelectorAll("a");for(var J=0;J<H.length&&J<500;++J){var K=H[J];var e=K.textContent;if(e.length>100){continue}var I=L.exec(e);if(I!=null){A=true}}}return A}function y(){if(r&&d){n.site_type="content_page"}else{if(i||q){n.site_type="other_page"}else{if(c()==="novel"){n.site_type="other_page"}}}}function s(){n.book_struct.title=B()}function B(){if(t!=null){return t}t="";var H=document.head.getElementsByTagName("meta");if(H.length>300){return t}for(var e=0;e<H.length;e++){var I=H[e];if(I.name==="keywords"){t=I.content;return t}}return t}function p(){if(F!=null){return F}F="";var L=new RegExp("目录|返回书籍页|书页");var H=document.getElementsByTagName("a");for(var J=0;J<H.length&&J<500;++J){var K=H[J];var e=K.textContent;e=e.replace(/\s+/g,"");var I=L.exec(e);if(I!=null){F=K.href;return F}}return F}function c(){var I=document.getElementsByTagName("meta");for(var e=0;e<I.length&&e<500;e++){var H=I[e];if(H.getAttribute("property")==="og:type"){return H.getAttribute("content")}}return""}function b(){var J=document.getElementsByTagName("meta");var e={"book_name":null,"author":null,};if(J.length>300){return e}for(var H=0;H<J.length;H++){var I=J[H];if(I.getAttribute("property")==="og:novel:book_name"){e["book_name"]=I.getAttribute("content")}if(I.getAttribute("property")==="og:novel:author"){e["author"]=I.getAttribute("content")}if(e["book_name"]!=null&&e["author"]!=null){break}}return e}function l(){var I=null;var R={"book_name":null,"author":null,};var Q=document.body;if(Q===null){n["errMsg"]="document body is null !!!";Q=document}var T=new Array("bookinfo","book_info","detail","cover","article","cataloginfo","ui_bookinfo","novel-cover","htmlbookinfo","catalog","mod detail","synopsisArea_detail","pt-novel","lb_fm");for(var M=0;M<T.length;++M){var L=T[M];var P=Q.getElementsByClassName(L);if(P.length!=0){break}}if(P.length>0){var e=P[0].getElementsByClassName("block");if(e.length>0){I=e[0]}else{I=P[0]}}if(I!=null){var S=I.innerText;var O=S.split("\n");for(var M=0;M<O.length&&M<500;++M){word=O[M].trim();if(word.length===0){continue}var H=word.split("：");if(H.length<2){H=word.split(":")}if(H.length<2){continue}if(H[0]=="作者"){var K=H[1];if(H.length>2){var N=H[1].lastIndexOf("分类");if(N===H[1].length-2){K=H[1].substring(0,N)}}R["author"]=K;var J=M;while(J>0){R["book_name"]=O[J-1].trim();if(R["book_name"].length>0){break}--J}return R}}}return R}function m(e){n.book_struct.book_name=e}function D(e){n.book_struct.author=e}function w(){if(n.site_type==="content_page"){n.book_struct.book_content=p()}}function g(){}function z(){}function f(){}function k(){E();y();if(n.site_type!=null){s();if(n.site_type=="content_page"){var H=p();if(H===""){n.site_type="other_page"}}if(n.site_type==="other_page"&&j()){n.site_type="catalog_page"}if(n.site_type!="catalog_page"){var e=l();if(e.book_name!=null&&e.author!=null){m(e["book_name"]);D(e["author"])}if(e.book_name!=null&&e.author!=null&&q){n.site_type="catalog_page"}}w();g();z();f()}if(stringify_output==="true"){return JSON.stringify(n)}return n}return k()}catch(C){var v="Error during distillation: "+C;if(C.stack!=undefined){v+=" e.stack:"+C.stack}window.console.error(v);var a={};a["exceptionMsg"]=v;if(stringify_output==="true"){return JSON.stringify(a)}return a}})(stringify_output="$$STRINGIFY_OUTPUT");